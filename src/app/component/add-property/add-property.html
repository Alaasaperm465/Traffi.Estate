<h1>{{newproperty | json}}</h1>
<!-- <h2>{{propname.className | json}}</h2> -->
<div class="form-card-body">
  <form (submit)="addnewProperty()" class="property-form" #addPropForm="ngForm">
    
    <div class="form-section">
      <h5 class="section-title"><i class="fas fa-info-circle"></i> المعلومات الأساسية</h5>

      <div class="form-group">
        <label for="propertyTitle">عنوان العقار</label>
        <div class="input-wrapper">
          <i class="fas fa-heading input-icon"></i>
          <input [(ngModel)]="newproperty.title" 
          name="title" class="form-input" required #propname="ngModel"
          id="propertyTitle" placeholder="عنوان العقار"/>
        </div>
        @if (propname.invalid  &&  propname.touched)
        {
          <div> العنوان مطلوب</div>

        }
      </div>
      <div class="form-group">
        <label for="propertyDescription">وصف العقار</label>
        <div class="input-wrapper">
          <i class="fas fa-align-left input-icon"></i>
          <textarea [(ngModel)]="newproperty.description" 
          name="description" required
          class="form-input" id="propertyDescription" placeholder="وصف العقار" rows="4"></textarea>
        </div>
      </div>
    </div>
    <div class="form-section">
      <h5 class="section-title"><i class="fas fa-list-alt"></i> تفاصيل العقار</h5>
      
      <div class="row-grid">
        <div class="form-group">
          <label for="propertyPrice">السعر</label>
          <div class="input-wrapper">
            <i class="fas fa-money-bill-wave input-icon"></i>
            <input [(ngModel)]="newproperty.price" 
            name="price" required #propprice="ngModel"
            type="number" min="0" class="form-input" id="propertyPrice" placeholder="السعر"/>
          </div>
          @if(propprice.invalid)
          {
          <div class="invalid-feedback">
            السعر مطلوب ويجب أن يكون رقم موجب
          </div>            
          }
          
        </div>

        <div class="form-group">
          <label for="propertyArea">المساحة (م²)</label>
          <div class="input-wrapper">
            <i class="fas fa-arrows-alt input-icon"></i>
            <input [(ngModel)]="newproperty.Area" 
            name="Area" required
            type="number" min="0" class="form-input"id="propertyArea" placeholder="المساحة"/>
          </div>
        </div>
        <div class="form-group">
          <label for="propertyRooms">عدد الغرف</label>
          <div class="input-wrapper">
            <i class="fas fa-door-open input-icon"></i>
            <input [(ngModel)]="newproperty.RoomsCount" 
            name="RoomsCount" required
            type="number" min="0" class="form-input" id="propertyRooms" placeholder="عدد الغرف"/>
          </div>
        </div>

        <div class="form-group">
          <label for="propertyBathrooms">عدد الحمامات</label>
          <div class="input-wrapper">
            <i class="fas fa-bath input-icon"></i>
            <input [(ngModel)]="newproperty.pathRoomCount"
            name="pathRoomCount" required
            type="number" min="0" class="form-input" id="propertyBathrooms" placeholder="عدد الحمامات"/>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="propertyLocation">الموقع</label>
        <div class="input-wrapper">
          <i class="fas fa-map-marker-alt input-icon"></i>
          <input [(ngModel)]="newproperty.location"
          name="location" required
          class="form-input"  id="propertyLocation" placeholder="الموقع"/>
        </div>
      </div>
    </div>

    <div class="form-section">
      <h5 class="section-title"><i class="fas fa-tags"></i> نوع العقار والحالة</h5>
      
      <div class="row-grid">
        <div class="form-group">
          <label for="propertyType">نوع العقار</label>
          <div class="input-wrapper select-wrapper">
            <i class="fas fa-building input-icon"></i>
            <select [(ngModel)]="newproperty.type"
            name="type" required #proptype="ngModel"
            class="form-select"  id="propertyType">
              <option value="">-- اختر النوع --</option>
              <option value="Apartment">شقة</option>
              <option value="Villa">فيلا</option>
              <option value="House">منزل</option>
              <option value="Land">أرض</option>
            </select>
          </div>
          @if(proptype.invalid)
          {
          <div  class="invalid-feedback">
            نوع العقار مطلوب
          </div>
          }
          
        </div>

        <div class="form-group">
          <label for="finishingLevel">مستوى التشطيب</label>
          <div class="input-wrapper select-wrapper">
            <i class="fas fa-paint-roller input-icon"></i>
            <select [(ngModel)]="newproperty.FinishLevel" 
            name="FinishLevel" required
            class="form-select" id="finishingLevel" >
              <option value="">-- اختر التشطيب --</option>
              <option value="Luxury">فاخر</option>
              <option value="Standard">عادي</option>
              <option value="Basic">أساسي</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label for="propertyPurpose">الغرض من العقار</label>
          <div class="input-wrapper select-wrapper">
            <i class="fas fa-bullseye input-icon"></i>
            <select [(ngModel)]="newproperty.purpos" 
            name="purpos" required #proppurpos="ngModel"
            class="form-select" id="propertyPurpose">
              <option value="">-- اختر الغرض --</option>
              <option value="Sale">بيع</option>
              <option value="Rent">إيجار</option>
            </select>
          </div>
          @if(proppurpos.invalid)
          {
          <div class="invalid-feedback">
            الغرض من العقار مطلوب
          </div>
          }

        </div>

        <div class="form-group">
          <label for="propertyStatus">حالة العقار</label>
          <div class="input-wrapper select-wrapper">
            <i class="fas fa-flag input-icon"></i>
            <select [(ngModel)]="newproperty.status" 
            name="status" required
            class="form-select" id="propertyStatus" >
              <option value="">-- اختر الحالة --</option>
              <option value="Available">متاح</option>
              <option value="Sold">تم البيع</option>
              <option value="Rented">تم الإيجار</option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button  type="submit" class="btn btn-submit" disabled="addPropForm.invalid" > 
        <i class="fas" >اضافة عقار</i> 
      </button>
      <a routerLink="/properties" class="btn btn-cancel">
        <i class="fas fa-arrow-right">العودة للقائمة</i> 
      </a>
    </div>

  </form>
</div>
